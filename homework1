#regex
import urllib
response = urllib.urlopen('http://python.org/')
_html = response.read()
print response.info()
print len(_html)
import re
p=re.compile('href="(http://.*?)"')
res=p.findall(_html)
print "http url은 몇 개?",len(res)
for item in res:
    print item
import re
p=re.compile('<h1>(.*?)</h1>')
h1tags=p.findall(_html)
for i in h1tags:
    print i
import re
p=re.compile('<p>(.*?)</p>')
ptags=p.findall(_html)

#xpath
print len(_html)
from lxml import etree
_htmlTree = etree.HTML(_html)
result = etree.tostring(_htmlTree, pretty_print=True, method="html")
print len(result)
nodes = _htmlTree.xpath('//*[@href]')
print len(nodes)
for node in nodes:
    print node.attrib

#csssector
import lxml.html
from lxml.cssselect import CSSSelector
import requests
r = requests.get('http://python.org/')
html = lxml.html.fromstring(r.text)
sel=CSSSelector('a[href]')
results = sel(html)
print len(results)
for item in results:
    print item.get('href'), item.text
